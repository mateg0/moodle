define ("core_badges/backpackactions",["exports","jquery","core_badges/selectors","core/str","core/pending","core/modal_factory","core/modal_events","core/config"],function(a,b,c,d,e,f,g,h){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=i(b);c=i(c);e=i(e);f=i(f);g=i(g);h=i(h);function i(a){return a&&a.__esModule?a:{default:a}}function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}if(h.done){b(i)}else{Promise.resolve(i).then(d,e)}}function k(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){j(f,d,e,g,h,"next",a)}function h(a){j(f,d,e,g,h,"throw",a)}g(void 0)})}}var l=function(){var a=new e.default,d=(0,b.default)(c.default.elements.main);m(d);a.resolve()};a.init=l;var m=function(a){a.on("click",c.default.actions.deletebackpack,function(){var a=k(regeneratorRuntime.mark(function c(a){var d,e;return regeneratorRuntime.wrap(function(c){while(1){switch(c.prev=c.next){case 0:a.preventDefault();d=(0,b.default)(a.currentTarget);c.next=4;return n(d);case 4:e=c.sent;o(e,d);case 6:case"end":return c.stop();}}},c)}));return function(){return a.apply(this,arguments)}}())},n=function(){var a=k(regeneratorRuntime.mark(function b(a){var e;return regeneratorRuntime.wrap(function(b){while(1){switch(b.prev=b.next){case 0:e=a.closest(c.default.elements.backpackurl).attr("data-backpackurl");b.t0=f.default;b.next=4;return(0,d.get_string)("delexternalbackpack","core_badges");case 4:b.t1=b.sent;b.next=7;return(0,d.get_string)("delexternalbackpackconfirm","core_badges",e);case 7:b.t2=b.sent;b.t3=f.default.types.SAVE_CANCEL;b.t4={title:b.t1,body:b.t2,type:b.t3};return b.abrupt("return",b.t0.create.call(b.t0,b.t4));case 11:case"end":return b.stop();}}},b)}));return function(){return a.apply(this,arguments)}}(),o=function(){var a=k(regeneratorRuntime.mark(function c(a,b){return regeneratorRuntime.wrap(function(c){while(1){switch(c.prev=c.next){case 0:c.t0=a;c.next=3;return(0,d.get_string)("delete","core");case 3:c.t1=c.sent;c.t0.setSaveButtonText.call(c.t0,c.t1);a.getRoot().on(g.default.save,function(){window.location.href=b.attr("href")+"&sesskey="+h.default.sesskey+"&confirm=1"});a.getRoot().on(g.default.hidden,function(){a.destroy()});a.show();case 8:case"end":return c.stop();}}},c)}));return function(){return a.apply(this,arguments)}}()});
//# sourceMappingURL=backpackactions.min.js.map
