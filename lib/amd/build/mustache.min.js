function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}(function(a,b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&exports&&"string"!=typeof exports.nodeName){b(exports)}else if("function"==typeof define&&define.amd){define ("core/mustache",["exports"],b)}else{a.Mustache={};b(a.Mustache)}})(this,function(a){var b=Object.prototype.toString,c=Array.isArray||function(a){return"[object Array]"===b.call(a)};function d(a){return"function"==typeof a}function e(a){return c(a)?"array":_typeof(a)}function f(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function g(a,b){return null!=a&&"object"===_typeof(a)&&b in a}function h(a,b){return null!=a&&"object"!==_typeof(a)&&a.hasOwnProperty&&a.hasOwnProperty(b)}var i=RegExp.prototype.test;function j(a,b){return i.call(a,b)}function k(a){return!j(/\S/,a)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var m=/\s*=/;function n(b,d){if(!b)return[];var e=!1,g=[],h=[],j=[],l=!1,n=!1,r="",s=0;function t(){if(l&&!n){while(j.length){delete h[j.pop()]}}else{j=[]}l=!1;n=!1}var u,v,w;function x(a){if("string"==typeof a)a=a.split(/\s+/,2);if(!c(a)||2!==a.length)throw new Error("Invalid tags: "+a);u=new RegExp(f(a[0])+"\\s*");v=new RegExp("\\s*"+f(a[1]));w=new RegExp("\\s*"+f("}"+a[1]))}x(d||a.tags);var y=new q(b),z,A,B,C,D,E;while(!y.eos()){z=y.pos;B=y.scanUntil(u);if(B){for(var F=0,G=B.length;F<G;++F){C=B.charAt(F);if(k(C)){j.push(h.length);r+=C}else{n=!0;e=!0;r+=" "}h.push(["text",C,z,z+1]);z+=1;if("\n"===C){t();r="";s=0;e=!1}}}if(!y.scan(u))break;l=!0;A=y.scan(/#|\^|\/|>|\{|&|=|!|\$|</)||"name";y.scan(/\s*/);if("="===A){B=y.scanUntil(m);y.scan(m);y.scanUntil(v)}else if("{"===A){B=y.scanUntil(w);y.scan(/\s*\}/);y.scanUntil(v);A="&"}else{B=y.scanUntil(v)}if(!y.scan(v))throw new Error("Unclosed tag at "+y.pos);if(">"==A){D=[A,B,z,y.pos,r,s,e]}else{D=[A,B,z,y.pos]}s++;h.push(D);if("#"===A||"^"===A||"$"===A||"<"===A){g.push(D)}else if("/"===A){E=g.pop();if(!E)throw new Error("Unopened section \""+B+"\" at "+z);if(E[1]!==B)throw new Error("Unclosed section \""+E[1]+"\" at "+z)}else if("name"===A||"{"===A||"&"===A){n=!0}else if("="===A){x(B)}}t();E=g.pop();if(E)throw new Error("Unclosed section \""+E[1]+"\" at "+y.pos);return p(o(h))}function o(a){for(var b=[],c,d,e=0,f=a.length;e<f;++e){c=a[e];if(c){if("text"===c[0]&&d&&"text"===d[0]){d[1]+=c[1];d[3]=c[3]}else{b.push(c);d=c}}}return b}function p(a){for(var b=[],c=b,d=[],e,f,g=0,h=a.length;g<h;++g){e=a[g];switch(e[0]){case"$":case"<":case"#":case"^":c.push(e);d.push(e);c=e[4]=[];break;case"/":f=d.pop();f[5]=e[2];c=0<d.length?d[d.length-1][4]:b;break;default:c.push(e);}}return b}function q(a){this.string=a;this.tail=a;this.pos=0}q.prototype.eos=function(){return""===this.tail};q.prototype.scan=function(a){var b=this.tail.match(a);if(!b||0!==b.index)return"";var c=b[0];this.tail=this.tail.substring(c.length);this.pos+=c.length;return c};q.prototype.scanUntil=function(a){var b=this.tail.search(a),c;switch(b){case-1:c=this.tail;this.tail="";break;case 0:c="";break;default:c=this.tail.substring(0,b);this.tail=this.tail.substring(b);}this.pos+=c.length;return c};function r(a,b){this.view=a;this.blocks={};this.cache={".":this.view};this.parent=b}r.prototype.push=function(a){return new r(a,this)};r.prototype.setBlockVar=function(a,b){var c=this.blocks;c[a]=b;return b};r.prototype.clearBlockVars=function(){this.blocks={}};r.prototype.getBlockVar=function(a){var b=this.blocks,c;if(b.hasOwnProperty(a)){c=b[a]}else{if(this.parent){c=this.parent.getBlockVar(a)}}return c};r.prototype.lookup=function(a){var b=this.cache,c;if(b.hasOwnProperty(a)){c=b[a]}else{var e=this,f,i,j,k=!1;while(e){if(0<a.indexOf(".")){f=e.view;i=a.split(".");j=0;while(null!=f&&j<i.length){if(j===i.length-1)k=g(f,i[j])||h(f,i[j]);f=f[i[j++]]}}else{f=e.view[a];k=g(e.view,a)}if(k){c=f;break}e=e.parent}b[a]=c}if(d(c))c=c.call(this.view);return c};function s(){this.cache={}}s.prototype.clearCache=function(){this.cache={}};s.prototype.parse=function(b,c){var d=this.cache,e=b+":"+(c||a.tags).join(":"),f=d[e];if(null==f)f=d[e]=n(b,c);return f};s.prototype.render=function(a,b,c,d){var e=this.parse(a,d),f=b instanceof r?b:new r(b);return this.renderTokens(e,f,c,a,d)};s.prototype.renderTokens=function(a,b,c,d,e){for(var f="",g,h,j,k=0,l=a.length;k<l;++k){j=void 0;g=a[k];h=g[0];if("#"===h)j=this.renderSection(g,b,c,d);else if("^"===h)j=this.renderInverted(g,b,c,d);else if(">"===h)j=this.renderPartial(g,b,c,e);else if("<"===h)j=this.renderBlock(g,b,c,d);else if("$"===h)j=this.renderBlockVariable(g,b,c,d);else if("&"===h)j=this.unescapedValue(g,b);else if("name"===h)j=this.escapedValue(g,b);else if("text"===h)j=this.rawValue(g);if(j!==void 0)f+=j}return f};s.prototype.renderSection=function(a,b,e,f){var g=this,h="",i=b.lookup(a[1]);function k(a){return g.render(a,b,e)}if(!i)return;if(c(i)){for(var l=0,m=i.length;l<m;++l){h+=this.renderTokens(a[4],b.push(i[l]),e,f)}}else if("object"===_typeof(i)||"string"==typeof i||"number"==typeof i){h+=this.renderTokens(a[4],b.push(i),e,f)}else if(d(i)){if("string"!=typeof f)throw new Error("Cannot use higher-order sections without the original template");i=i.call(b.view,f.slice(a[3],a[5]),k);if(null!=i)h+=i}else{h+=this.renderTokens(a[4],b,e,f)}return h};s.prototype.renderInverted=function(a,b,d,e){var f=b.lookup(a[1]);if(!f||c(f)&&0===f.length)return this.renderTokens(a[4],b,d,e)};s.prototype.indentPartial=function(a,b,c){for(var d=b.replace(/[^ \t]/g,""),e=a.split("\n"),f=0;f<e.length;f++){if(e[f].length&&(0<f||!c)){e[f]=d+e[f]}}return e.join("\n")};s.prototype.renderPartial=function(a,b,c,e){if(!c)return;var f=d(c)?c(a[1]):c[a[1]];if(null!=f){var g=a[6],h=a[5],i=a[4],j=f;if(0==h&&i){j=this.indentPartial(f,i,g)}return this.renderTokens(this.parse(j,e),b,c,j)}};s.prototype.renderBlock=function(a,b,c,e){if(!c)return;var f=d(c)?c(a[1]):c[a[1]];if(null!=f)b.clearBlockVars();this.renderTokens(a[4],b,c,e);var g=this.renderTokens(this.parse(f),b,c,f);b.clearBlockVars();return g};s.prototype.renderBlockVariable=function(a,b,c,d){var e=a[1],f=b.getBlockVar(e);if(!f){b.setBlockVar(e,d.slice(a[3],a[5]));return this.renderTokens(a[4],b,c,d)}else{return this.renderTokens(this.parse(f),b,c,f)}};s.prototype.unescapedValue=function(a,b){var c=b.lookup(a[1]);if(null!=c)return c};s.prototype.escapedValue=function(b,c){var d=c.lookup(b[1]);if(null!=d)return a.escape(d)};s.prototype.rawValue=function(a){return a[1]};a.name="mustache.js";a.version="3.1.0";a.tags=["{{","}}"];var t=new s;a.clearCache=function(){return t.clearCache()};a.parse=function(a,b){return t.parse(a,b)};a.render=function(a,b,c,d){if("string"!=typeof a){throw new TypeError("Invalid template! Template should be a \"string\" but \""+e(a)+"\" was given as the first argument for mustache#render(template, view, partials)")}return t.render(a,b,c,d)};a.to_html=function(b,c,e,f){var g=a.render(b,c,e);if(d(f)){f(g)}else{return g}};a.escape=function(a){return(a+"").replace(/[&<>"'`=\/]/g,function(a){return l[a]})};a.Scanner=q;a.Context=r;a.Writer=s;return a});
//# sourceMappingURL=mustache.min.js.map
