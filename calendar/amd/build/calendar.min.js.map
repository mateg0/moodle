{"version":3,"sources":["../src/calendar.js"],"names":["define","$","Ajax","Str","Templates","Notification","CustomEvents","ModalEvents","ModalFactory","ModalEventForm","SummaryModal","CalendarRepository","CalendarEvents","CalendarViewManager","CalendarCrud","CalendarSelectors","SELECTORS","ROOT","DAY","NEW_EVENT_BUTTON","DAY_CONTENT","LOADING_ICON","VIEW_DAY_LINK","CALENDAR_MONTH_WRAPPER","TODAY","CELL_ADD_EVENT_BUTTON_MONTH","CELL_ADD_EVENT_BUTTON_DAY","ADD_EVENT_FORM","ADD_EVENT_FORM_DATA","ADD_EVENT_FORM_ADD_BUTTON","EVENT_TYPES","EVENT_TYPE","SCHEDULE","SCHEDULE_CONTENT","SCHEDULE_ADD_EVENT_BUTTON","LEGEND_GROUP","LEGEND_GROUP_COLOR","SELECT_COURSE","SELECT_GROUP","SELECT_COURSE_WRAPPER","SELECT_GROUP_WRAPPER","BACK_BUTTON_FROM_SELECT","sessionStorageTimestampNewEventFieldName","sessionStorageTypeNewEventFieldName","handleMoveEvent","e","eventId","originElement","destinationElement","originTimestamp","destinationTimestamp","attr","render","then","html","js","find","addClass","appendNodeContents","updateEventStartDay","trigger","eventMoved","always","destinationLoadingElement","removeClass","replaceNode","originLoadingElement","fail","exception","registerCalendarEventListeners","root","eventFormModalPromise","body","on","created","reloadCurrentMonth","deleted","updated","editActionEvent","url","window","location","assign","moveEvent","registerEditListeners","registerEventListeners","dayLink","target","year","data","month","day","courseId","categoryId","refreshDayContent","preventDefault","history","pushState","elements","courseSelector","selectElement","val","eventFormPromise","registerEventFormModal","contextId","addEventButtonsOnMonthCell","document","querySelectorAll","addEventButtonsOnDayCell","addEventButtonOnAddEventForm","querySelector","eventTypesOfAddEventForm","addEventForm","addEventFormBackToSelectType","addEventFormBackToSelectCourse","length","addEventListenerToAddEventButtonOnCells","addEventListener","getSelectorOfEventType","createNewEvent","backToSelectType","backToSelectCourse","closest","calendarWrapper","calendarData","dataset","view","dayCell","dayCellData","sessionStorage","setItem","newEventTimestamp","getCalendarDayData","courseid","dayData","eventsOfDay","events","schedule","scheduleContent","scheduleAddEventButton","innerHTML","event","groupColor","groupid","groupId","forEach","group","style","backgroundColor","scheduleLine","getScheduleLine","scheduleEventContent","getScheduleEventContent","scheduleEventName","getScheduleEventName","scheduleEventDescription","getScheduleEventDescription","scheduleEventGroup","getScheduleEventGroup","eventTime","getEventTime","eventTimeStart","getEventTimeStart","eventTimeEnd","getEventTimeEnd","timestampStartEvent","timestart","timestampEndEvent","timeduration","timeStartEvent","getHoursAndMinutesByTimestamp","timeEndEvent","append","popupname","description","groupname","display","hideScheduleEvent","showAddEventFormFromDaySchedule","catch","error","console","alert","getDiv","className","newDiv","createElement","getDivWithStyles","styles","setProperty","borderColor","background","timestamp","fixDateIfUnderTen","time","dateByTimestamp","Date","dateHours","getHours","dateMinutes","getMinutes","removeEventListener","showAddEventForm","targetCell","inputDate","addEventDateTimestamp","getItem","addEventDateJSON","toJSON","splitedAddEventDateJSON","split","value","setTimeout","hideAddEventForm","addEventButtonsOnCells","addEventButtonOnCell","eventTypesDiv","clickEvent","eventType","eventTypeValue","eventTypeDiv","classList","remove","add","showSelectGroup","showSelectCourse","addEventFormData","FormData","timeStartDate","get","timeEndDate","nameOfEvent","descriptionOfEvent","locationOfEvent","formData","id","userid","modulename","instance","visible","_qf__core_calendar_local_event_forms_create","mform_showmore_id_general","name","getFullYear","getMonth","getDate","eventtype","formUrlencodedData","keyOfField","encodeURI","clear","submitCreateUpdateForm","reload","courseWrapper","getUserCourses","courses","formAddEvent","selectCourseWrapper","selectCourse","setDefaultSelect","appendOptionsToSelect","getCourseGroupsData","groups","selectGroupWrapper","selectGroup","select","emptyOption","text","options","option","selectOption","fullname","init"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * This module is the highest level module for the calendar. It is\n * responsible for initialising all of the components required for\n * the calendar to run. It also coordinates the interaction between\n * components by listening for and responding to different events\n * triggered within the calendar UI.\n *\n * @module     core_calendar/calendar\n * @package    core_calendar\n * @copyright  2017 Simey Lameze <simey@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine([\n            'jquery',\n            'core/ajax',\n            'core/str',\n            'core/templates',\n            'core/notification',\n            'core/custom_interaction_events',\n            'core/modal_events',\n            'core/modal_factory',\n            'core_calendar/modal_event_form',\n            'core_calendar/summary_modal',\n            'core_calendar/repository',\n            'core_calendar/events',\n            'core_calendar/view_manager',\n            'core_calendar/crud',\n            'core_calendar/selectors',\n        ],\n        function(\n            $,\n            Ajax,\n            Str,\n            Templates,\n            Notification,\n            CustomEvents,\n            ModalEvents,\n            ModalFactory,\n            ModalEventForm,\n            SummaryModal,\n            CalendarRepository,\n            CalendarEvents,\n            CalendarViewManager,\n            CalendarCrud,\n            CalendarSelectors\n        ) {\n\n    var SELECTORS = {\n        ROOT: \"[data-region='calendar']\",\n        DAY: \"[data-region='day']\",\n        NEW_EVENT_BUTTON: \"[data-action='new-event-button']\",\n        DAY_CONTENT: \"[data-region='day-content']\",\n        LOADING_ICON: '.loading-icon',\n        VIEW_DAY_LINK: \"[data-action='view-day-link']\",\n        CALENDAR_MONTH_WRAPPER: \".calendarwrapper\",\n        TODAY: '.today',\n        CELL_ADD_EVENT_BUTTON_MONTH: 'div.cell-plus-add-event',\n        CELL_ADD_EVENT_BUTTON_DAY: 'div.c-d-add-event',\n        ADD_EVENT_FORM: '.add-event',\n        ADD_EVENT_FORM_DATA: 'form.add-event-form',\n        ADD_EVENT_FORM_ADD_BUTTON: 'div.add-event-add-button',\n        EVENT_TYPES: 'div.event-types',\n        EVENT_TYPE: 'div.event-type',\n        SCHEDULE: '.schedule',\n        SCHEDULE_CONTENT: 'div.schedule-content',\n        SCHEDULE_ADD_EVENT_BUTTON: 'div.add-schedule-event',\n        LEGEND_GROUP: '.legend-group',\n        LEGEND_GROUP_COLOR: '.legend-group-color',\n        SELECT_COURSE: 'select.select-course',\n        SELECT_GROUP: 'select.select-group',\n        SELECT_COURSE_WRAPPER: 'div.event-select-course',\n        SELECT_GROUP_WRAPPER: 'div.event-select-group',\n        BACK_BUTTON_FROM_SELECT: 'div.event-back-image',\n    };\n\n    const sessionStorageTimestampNewEventFieldName = 'newEventTimestamp';\n    const sessionStorageTypeNewEventFieldName = 'newEventType';\n\n    /**\n     * Handler for the drag and drop move event. Provides a loading indicator\n     * while the request is sent to the server to update the event start date.\n     *\n     * Triggers a eventMoved calendar javascript event if the event was successfully\n     * updated.\n     *\n     * @param {event} e The calendar move event\n     * @param {int} eventId The event id being moved\n     * @param {object|null} originElement The jQuery element for where the event is moving from\n     * @param {object} destinationElement The jQuery element for where the event is moving to\n     */\n    var handleMoveEvent = function(e, eventId, originElement, destinationElement) {\n        var originTimestamp = null;\n        var destinationTimestamp = destinationElement.attr('data-day-timestamp');\n\n        if (originElement) {\n            originTimestamp = originElement.attr('data-day-timestamp');\n        }\n\n        // If the event has actually changed day.\n        if (!originElement || originTimestamp != destinationTimestamp) {\n            Templates.render('core/loading', {})\n                .then(function(html, js) {\n                    // First we show some loading icons in each of the days being affected.\n                    destinationElement.find(SELECTORS.DAY_CONTENT).addClass('hidden');\n                    Templates.appendNodeContents(destinationElement, html, js);\n\n                    if (originElement) {\n                        originElement.find(SELECTORS.DAY_CONTENT).addClass('hidden');\n                        Templates.appendNodeContents(originElement, html, js);\n                    }\n                    return;\n                })\n                .then(function() {\n                    // Send a request to the server to make the change.\n                    return CalendarRepository.updateEventStartDay(eventId, destinationTimestamp);\n                })\n                .then(function() {\n                    // If the update was successful then broadcast an event letting the calendar\n                    // know that an event has been moved.\n                    $('body').trigger(CalendarEvents.eventMoved, [eventId, originElement, destinationElement]);\n                    return;\n                })\n                .always(function() {\n                    // Always remove the loading icons regardless of whether the update\n                    // request was successful or not.\n                    var destinationLoadingElement = destinationElement.find(SELECTORS.LOADING_ICON);\n                    destinationElement.find(SELECTORS.DAY_CONTENT).removeClass('hidden');\n                    Templates.replaceNode(destinationLoadingElement, '', '');\n\n                    if (originElement) {\n                        var originLoadingElement = originElement.find(SELECTORS.LOADING_ICON);\n                        originElement.find(SELECTORS.DAY_CONTENT).removeClass('hidden');\n                        Templates.replaceNode(originLoadingElement, '', '');\n                    }\n                    return;\n                })\n                .fail(Notification.exception);\n        }\n    };\n\n    /**\n     * Listen to and handle any calendar events fired by the calendar UI.\n     *\n     * @method registerCalendarEventListeners\n     * @param {object} root The calendar root element\n     * @param {object} eventFormModalPromise A promise reolved with the event form modal\n     */\n    var registerCalendarEventListeners = function(root, eventFormModalPromise) {\n        var body = $('body');\n\n        body.on(CalendarEvents.created, function() {\n            CalendarViewManager.reloadCurrentMonth(root);\n        });\n        body.on(CalendarEvents.deleted, function() {\n            CalendarViewManager.reloadCurrentMonth(root);\n        });\n        body.on(CalendarEvents.updated, function() {\n            CalendarViewManager.reloadCurrentMonth(root);\n        });\n        body.on(CalendarEvents.editActionEvent, function(e, url) {\n            // Action events needs to be edit directly on the course module.\n            window.location.assign(url);\n        });\n        // Handle the event fired by the drag and drop code.\n        body.on(CalendarEvents.moveEvent, handleMoveEvent);\n        // When an event is successfully moved we should updated the UI.\n        body.on(CalendarEvents.eventMoved, function() {\n            CalendarViewManager.reloadCurrentMonth(root);\n        });\n\n        CalendarCrud.registerEditListeners(root, eventFormModalPromise);\n    };\n\n    /**\n     * Register event listeners for the module.\n     *\n     * @param {object} root The calendar root element\n     */\n    var registerEventListeners = function(root) {\n        // Listen the click on the day link to render the day view.\n        root.on('click', SELECTORS.VIEW_DAY_LINK, function(e) {\n            var dayLink = $(e.target);\n            var year = dayLink.data('year'),\n                month = dayLink.data('month'),\n                day = dayLink.data('day'),\n                courseId = dayLink.data('courseid'),\n                categoryId = dayLink.data('categoryid');\n            CalendarViewManager.refreshDayContent(root, year, month, day, courseId, categoryId, root,\n                    'core_calendar/calendar_day').then(function() {\n                e.preventDefault();\n                var url = '?view=day&time=' + dayLink.data('timestamp');\n                return window.history.pushState({}, '', url);\n            }).fail(Notification.exception);\n        });\n\n        root.on('change', CalendarSelectors.elements.courseSelector, function() {\n            var selectElement = $(this);\n            var courseId = selectElement.val();\n            CalendarViewManager.reloadCurrentMonth(root, courseId, null)\n                .then(function() {\n                    // We need to get the selector again because the content has changed.\n                    return root.find(CalendarSelectors.elements.courseSelector).val(courseId);\n                })\n                .fail(Notification.exception);\n        });\n\n        var eventFormPromise = CalendarCrud.registerEventFormModal(root),\n            contextId = $(SELECTORS.CALENDAR_MONTH_WRAPPER).data('context-id');\n        registerCalendarEventListeners(root, eventFormPromise);\n\n        if (contextId) {\n            const addEventButtonsOnMonthCell = document.querySelectorAll(SELECTORS.CELL_ADD_EVENT_BUTTON_MONTH);\n            const addEventButtonsOnDayCell = document.querySelectorAll(SELECTORS.CELL_ADD_EVENT_BUTTON_DAY);\n            const addEventButtonOnAddEventForm = document.querySelector(SELECTORS.ADD_EVENT_FORM_ADD_BUTTON);\n            const eventTypesOfAddEventForm = document.querySelector(SELECTORS.EVENT_TYPES);\n\n            const addEventForm = document.querySelector(SELECTORS.ADD_EVENT_FORM);\n            const addEventFormBackToSelectType = addEventForm\n                .querySelector(SELECTORS.SELECT_COURSE_WRAPPER)\n                .querySelector(SELECTORS.BACK_BUTTON_FROM_SELECT);\n            const addEventFormBackToSelectCourse = addEventForm\n                .querySelector(SELECTORS.SELECT_GROUP_WRAPPER)\n                .querySelector(SELECTORS.BACK_BUTTON_FROM_SELECT);\n\n            if (addEventButtonsOnMonthCell.length) {\n                addEventListenerToAddEventButtonOnCells(addEventButtonsOnMonthCell);\n            }\n\n            if (addEventButtonsOnDayCell.length) {\n                addEventListenerToAddEventButtonOnCells(addEventButtonsOnDayCell);\n            }\n\n            if (eventTypesOfAddEventForm) {\n                eventTypesOfAddEventForm.addEventListener(\n                    'click',\n                    getSelectorOfEventType(eventTypesOfAddEventForm)\n                );\n            }\n\n            if (addEventButtonOnAddEventForm) {\n                addEventButtonOnAddEventForm.addEventListener('click', createNewEvent);\n            }\n\n            if (addEventFormBackToSelectType) {\n                addEventFormBackToSelectType.addEventListener('click', backToSelectType);\n            }\n\n            if (addEventFormBackToSelectCourse) {\n                addEventFormBackToSelectCourse.addEventListener('click', backToSelectCourse);\n            }\n\n            // Bind click events to calendar days.\n            root.on('click', SELECTORS.DAY, function (e) {\n                // const target = $(e.target);\n\n                if (e.target.closest(SELECTORS.CELL_ADD_EVENT_BUTTON_MONTH)) {\n                    return;\n                }\n\n                const calendarWrapper = document.querySelector(SELECTORS.CALENDAR_MONTH_WRAPPER);\n                const calendarData = calendarWrapper.dataset;\n\n                if (calendarData.view && calendarData.view !== \"day\") {\n                    const dayCell = e.target.closest('td');\n                    const dayCellData = dayCell.dataset;\n\n                    sessionStorage.setItem(sessionStorageTimestampNewEventFieldName, dayCellData.newEventTimestamp);\n\n                    CalendarRepository.getCalendarDayData(\n                        calendarData.year,\n                        calendarData.month,\n                        dayCellData.day,\n                        calendarData.courseid,\n                        0\n                    )\n                        .then(dayData => {\n                            const eventsOfDay = dayData.events;\n\n                            if (eventsOfDay.length) {\n                                const schedule = document.querySelector(SELECTORS.SCHEDULE);\n                                const scheduleContent = schedule.querySelector(SELECTORS.SCHEDULE_CONTENT);\n                                const scheduleAddEventButton = schedule.querySelector(\n                                    SELECTORS.SCHEDULE_ADD_EVENT_BUTTON\n                                );\n\n                                scheduleContent.innerHTML = '';\n\n                                for (let event of eventsOfDay) {\n                                    let groupColor = '#fee7ae';\n\n                                    if (event.groupid) {\n                                        const groupId = event.groupid;\n\n                                        document.querySelectorAll(SELECTORS.LEGEND_GROUP).forEach(group => {\n                                            if (groupId === +group.dataset.groupId) {\n                                                groupColor = group.querySelector(SELECTORS.LEGEND_GROUP_COLOR).style.backgroundColor;\n                                            }\n                                        });\n                                    }\n\n                                    const scheduleLine = getScheduleLine(groupColor);\n                                    const scheduleEventContent = getScheduleEventContent();\n                                    const scheduleEventName = getScheduleEventName();\n                                    const scheduleEventDescription = getScheduleEventDescription();\n                                    const scheduleEventGroup = getScheduleEventGroup(groupColor);\n\n                                    const eventTime = getEventTime(groupColor);\n                                    const eventTimeStart = getEventTimeStart();\n                                    const eventTimeEnd = getEventTimeEnd();\n\n                                    //To fix moodle's timestamp\n                                    const timestampStartEvent = event.timestart * 1000;\n                                    const timestampEndEvent = ( event.timestart + event.timeduration ) * 1000;\n\n                                    const timeStartEvent = getHoursAndMinutesByTimestamp(timestampStartEvent);\n                                    const timeEndEvent = getHoursAndMinutesByTimestamp(timestampEndEvent);\n\n                                    eventTimeStart.append(timeStartEvent);\n                                    eventTimeEnd.append(timeEndEvent);\n\n                                    eventTime.append(eventTimeStart, eventTimeEnd);\n\n                                    scheduleEventName.append(event.popupname);\n\n                                    scheduleEventContent.append(scheduleEventName);\n\n                                    if (event.description) {\n                                        scheduleEventDescription.append(event.description);\n                                        scheduleEventContent.append(scheduleEventDescription);\n                                    }\n\n                                    scheduleLine.append(eventTime, scheduleEventContent);\n\n                                    if (event.groupname) {\n                                        scheduleEventGroup.append(event.groupname);\n\n                                        scheduleLine.append(scheduleEventGroup);\n                                    }\n\n                                    scheduleContent.append(scheduleLine);\n                                }\n\n                                schedule.style.display = 'block';\n\n                                document.addEventListener('click', hideScheduleEvent);\n                                scheduleAddEventButton.addEventListener('click', showAddEventFormFromDaySchedule);\n                            }\n                        })\n                        .catch(error => {\n                            console.error('GET day data', error);\n\n                            alert('GET day data ERROR. Please, report administrator')\n                        });\n                }\n\n                /*if (!target.is(SELECTORS.VIEW_DAY_LINK)) {\n                    var startTime = $(this).attr('data-new-event-timestamp');\n                    eventFormPromise.then(function (modal) {\n                        var wrapper = target.closest(CalendarSelectors.wrapper);\n                        modal.setCourseId(wrapper.data('courseid'));\n\n                        var categoryId = wrapper.data('categoryid');\n                        if (typeof categoryId !== 'undefined') {\n                            modal.setCategoryId(categoryId);\n                        }\n\n                        modal.setContextId(wrapper.data('contextId'));\n                        modal.setStartTime(startTime);\n                        modal.show();\n                        return;\n                    })\n                    .fail(Notification.exception);\n\n                    e.preventDefault();\n                }*/\n            });\n        }\n    };\n\n    const getDiv = (className) => {\n        const newDiv = document.createElement('div');\n\n        newDiv.className = className || '';\n\n        return newDiv;\n    }\n\n    const getDivWithStyles = (className, styles) => {\n        const newDiv = getDiv(className);\n\n        for (let style in styles) {\n            newDiv.style.setProperty(style, styles[style]);\n        }\n\n        return newDiv;\n    };\n\n    const getScheduleLine = (groupColor) => {\n        return getDivWithStyles('schedule-line', {\n            borderColor: groupColor,\n            background: '#EFFAFF'\n        });\n    };\n\n    const getScheduleEventContent = () => {\n        return getDiv('schedule-event-content');\n    };\n\n    const getScheduleEventName = () => {\n        return getDiv('schedule-event-name');\n    };\n\n    const getScheduleEventDescription = () => {\n        return getDiv('schedule-event-description');\n    };\n\n    const getScheduleEventGroup = (groupColor) => {\n        return getDivWithStyles('schedule-event-group', {\n            background: groupColor\n        });\n    };\n\n    const getEventTime = (groupColor) => {\n        return getDivWithStyles('event-time', {\n            background: groupColor\n        });\n    };\n\n    const getEventTimeStart = () => {\n        return getDiv('event-time-start');\n    };\n\n    const getEventTimeEnd = () => {\n        return getDiv('event-time-end');\n    };\n\n    const getHoursAndMinutesByTimestamp = (timestamp) => {\n        const fixDateIfUnderTen = (time) => {\n            return time < 10 ? '0' + time : time;\n        }\n\n        const dateByTimestamp = new Date(timestamp);\n\n        let dateHours = fixDateIfUnderTen(dateByTimestamp.getHours());\n        let dateMinutes = fixDateIfUnderTen(dateByTimestamp.getMinutes());\n\n        return `${dateHours}:${dateMinutes}`;\n    };\n\n    const hideScheduleEvent = (event) => {\n        if (!event.target.closest(SELECTORS.SCHEDULE)) {\n            document.querySelector(SELECTORS.SCHEDULE).style.display = 'none';\n            document.removeEventListener('click', hideScheduleEvent);\n        }\n    };\n\n    const showAddEventForm = (event) => {\n        const addEventForm = document.querySelector(SELECTORS.ADD_EVENT_FORM);\n        const targetCell = event.target.closest('td');\n\n        if (targetCell) {\n            sessionStorage.setItem(sessionStorageTimestampNewEventFieldName, targetCell.dataset.newEventTimestamp);\n        }\n\n        addEventForm.style.display = 'block';\n\n        addEventForm.querySelectorAll('input[type=datetime-local]').forEach(inputDate => {\n            const addEventDateTimestamp = +sessionStorage.getItem(sessionStorageTimestampNewEventFieldName) * 1000 ;\n            const addEventDateJSON = new Date(addEventDateTimestamp).toJSON();\n            const splitedAddEventDateJSON = addEventDateJSON.split(':');\n\n            inputDate.value = `${splitedAddEventDateJSON[0]}:${splitedAddEventDateJSON[1]}`;\n        });\n\n        setTimeout(() => {\n            document.addEventListener('click', hideAddEventForm);\n        }, 0);\n    }\n\n    const showAddEventFormFromDaySchedule = (event) => {\n        document.querySelector(SELECTORS.SCHEDULE).style.display = 'none';\n\n        showAddEventForm(event);\n    };\n\n    const hideAddEventForm = (event) => {\n        if (!event.target.closest(SELECTORS.ADD_EVENT_FORM)) {\n            document.querySelector(SELECTORS.ADD_EVENT_FORM).style.display = 'none';\n            document.removeEventListener('click', hideAddEventForm);\n        }\n    }\n\n    const addEventListenerToAddEventButtonOnCells = (addEventButtonsOnCells) => {\n        for (let addEventButtonOnCell of addEventButtonsOnCells) {\n            addEventButtonOnCell.addEventListener('click', showAddEventForm);\n        }\n    }\n\n    const getSelectorOfEventType = (eventTypesDiv) => {\n        return (clickEvent) => {\n            const eventType = clickEvent.target.closest(SELECTORS.EVENT_TYPE);\n\n            if (eventType) {\n                const eventTypeValue = eventType.dataset.eventType;\n\n                eventTypesDiv.querySelectorAll(SELECTORS.EVENT_TYPE).forEach(eventTypeDiv => {\n                    eventTypeDiv.classList.remove('active');\n                });\n\n                eventType.classList.add('active');\n                sessionStorage.setItem(sessionStorageTypeNewEventFieldName, eventTypeValue);\n\n                switch (eventTypeValue) {\n                    case 'group': {\n                        document\n                            .querySelector(SELECTORS.ADD_EVENT_FORM)\n                            .querySelector(SELECTORS.SELECT_COURSE_WRAPPER)\n                            .querySelector(SELECTORS.SELECT_COURSE)\n                            .addEventListener('change', showSelectGroup);\n                    }\n                    case 'course': {\n                        showSelectCourse();\n                    }\n                }\n            }\n        };\n    };\n\n    const createNewEvent = () => {\n        const addEventForm = document.querySelector(SELECTORS.ADD_EVENT_FORM_DATA);\n\n        if (addEventForm) {\n            const addEventFormData = new FormData(addEventForm);\n            const timeStartDate = new Date(addEventFormData.get('time-start'));\n            const timeEndDate = new Date(addEventFormData.get('time-end'));\n            const nameOfEvent = addEventFormData.get('name');\n            const descriptionOfEvent = addEventFormData.get('description');\n            const locationOfEvent = addEventFormData.get('location');\n\n            const eventType = sessionStorage.getItem(sessionStorageTypeNewEventFieldName);\n\n            if (!eventType) {\n                alert('Please, select event type');\n                return;\n            }\n\n            if (!nameOfEvent) {\n                alert('Please, type event name');\n                return;\n            }\n\n            const formData = {\n                id: 0,\n                userid: 0,\n                modulename: '',\n                instance: 0,\n                visible: 1,\n                _qf__core_calendar_local_event_forms_create: 1,\n                mform_showmore_id_general: 1,\n                name: nameOfEvent,\n                'timestart[year]': timeStartDate.getFullYear(),\n                'timestart[month]': timeStartDate.getMonth() + 1,\n                'timestart[day]': timeStartDate.getDate(),\n                'timestart[hour]': timeStartDate.getHours(),\n                'timestart[minute]': timeStartDate.getMinutes(),\n                eventtype: eventType,\n                'description[text]': descriptionOfEvent || '',\n                'description[format]': 1,\n                location: locationOfEvent,\n            }\n\n            if (timeEndDate - timeStartDate) {\n                formData['duration'] = 1;\n                formData['timedurationuntil[year]'] = timeEndDate.getFullYear();\n                formData['timedurationuntil[month]'] = timeEndDate.getMonth() + 1;\n                formData['timedurationuntil[day]'] = timeEndDate.getDate();\n                formData['timedurationuntil[hour]'] = timeEndDate.getHours();\n                formData['timedurationuntil[minute]'] = timeEndDate.getMinutes();\n            } else {\n                formData['duration'] = 0;\n            }\n\n            switch (eventType) {\n                case 'group': {\n                    const courseId = addEventFormData.get('courseId');\n                    const groupId = addEventFormData.get('groupId');\n\n                    if (!courseId || courseId === '-1') {\n                        alert('Please, select group');\n                        return;\n                    }\n\n                    if (!groupId || groupId === '-1') {\n                        alert('Please, select course');\n                        return;\n                    }\n\n                    formData['groupcourseid'] = courseId;\n                    formData['groupid'] = groupId;\n\n                    break;\n                }\n\n                case 'course': {\n                    const courseId = addEventFormData.get('courseId');\n\n                    if (!courseId || courseId === '-1') {\n                        alert('Please, select group');\n                        return;\n                    }\n\n                    formData['courseid'] = courseId;\n\n                    break;\n                }\n            }\n\n            let formUrlencodedData = '';\n\n            for (const keyOfField in formData) {\n                formUrlencodedData += `${keyOfField}=${formData[keyOfField]}&`;\n            }\n\n            formUrlencodedData = encodeURI(formUrlencodedData);\n\n            sessionStorage.clear();\n\n            CalendarRepository.submitCreateUpdateForm(formUrlencodedData)\n                .then(newCreatedEvent => {\n                    window.location.reload();\n                })\n                .catch(error => {\n                    console.error(error);\n                })\n        }\n    };\n\n    const backToSelectType = (event) => {\n        const courseWrapper = event.target.closest(SELECTORS.SELECT_COURSE_WRAPPER);\n\n        courseWrapper\n            .querySelector(SELECTORS.SELECT_COURSE)\n            .removeEventListener('change', showSelectGroup);\n\n        courseWrapper.style.display = 'none';\n        document.querySelector(SELECTORS.EVENT_TYPES).style.display = 'flex';\n    };\n\n    const backToSelectCourse = (event) => {\n        const courseWrapper = document.querySelector(SELECTORS.SELECT_COURSE_WRAPPER);\n\n        courseWrapper\n            .querySelector(SELECTORS.SELECT_COURSE)\n            .addEventListener('change', showSelectGroup);\n\n        event.target.closest(SELECTORS.SELECT_GROUP_WRAPPER).style.display = 'none';\n        courseWrapper.style.display = 'flex';\n    };\n\n    const showSelectCourse = () => {\n        CalendarRepository.getUserCourses()\n            .then(courses => {\n                const formAddEvent = document.querySelector(SELECTORS.ADD_EVENT_FORM);\n                const selectCourseWrapper = formAddEvent.querySelector(SELECTORS.SELECT_COURSE_WRAPPER);\n                const selectCourse = selectCourseWrapper.querySelector(SELECTORS.SELECT_COURSE);\n                const eventTypesDiv = formAddEvent.querySelector(SELECTORS.EVENT_TYPES);\n\n                setDefaultSelect(selectCourse);\n\n                if (courses.length) {\n                    appendOptionsToSelect(selectCourse, courses);\n                }\n\n                eventTypesDiv.style.display = 'none';\n                selectCourseWrapper.style.display = 'flex';\n            })\n            .catch(console.error);\n    }\n\n    const showSelectGroup = (event) => {\n        const courseId = event.target.value;\n\n        CalendarRepository.getCourseGroupsData(courseId)\n            .then(groups => {\n                const formAddEvent = document.querySelector(SELECTORS.ADD_EVENT_FORM);\n                const selectCourseWrapper = formAddEvent.querySelector(SELECTORS.SELECT_COURSE_WRAPPER);\n                const selectGroupWrapper = formAddEvent.querySelector(SELECTORS.SELECT_GROUP_WRAPPER);\n                const selectCourse = selectCourseWrapper.querySelector(SELECTORS.SELECT_COURSE);\n                const selectGroup = selectGroupWrapper.querySelector(SELECTORS.SELECT_GROUP);\n\n                setDefaultSelect(selectGroup);\n\n                selectCourse.removeEventListener('change', showSelectGroup);\n\n                if (groups.length) {\n                    appendOptionsToSelect(selectGroup, groups);\n                }\n\n                selectCourseWrapper.style.display = 'none';\n                selectGroupWrapper.style.display = 'flex';\n            })\n            .catch(console.error);\n    };\n\n    const setDefaultSelect = (select) => {\n        const emptyOption = document.createElement('option');\n        emptyOption.value = '-1';\n        emptyOption.text = '...';\n\n        select.innerHTML = '';\n        select.append(emptyOption);\n    };\n\n    const appendOptionsToSelect = (select, options) => {\n        for (const option of options) {\n            const selectOption = document.createElement('option');\n            selectOption.value = option.id;\n            selectOption.text = option.name || option.fullname;\n\n            select.append(selectOption);\n        }\n    };\n\n    return {\n        init: function(root) {\n            root = $(root);\n\n            CalendarViewManager.init(root);\n            registerEventListeners(root);\n        }\n    };\n});\n"],"file":"calendar.min.js"}