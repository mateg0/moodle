{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template core_calendar/day_detailed

    Calendar day view.

    The purpose of this template is to render the calendar day view.

    Classes required for JS:
    * none

    Data attributes required for JS:
    * none

    Example context (json):
    {
    }
}}

<select name="" id="calendar-view-switch">
    <option value="day">ДЕНЬ</option>
    <option value="month">МЕСЯЦ</option>
</select>

<div{{!
    }} class="calendarwrapper"{{!
    }} data-context-id="{{defaulteventcontext}}"{{!
    }}{{#courseid}} data-courseid="{{courseid}}"{{/courseid}}{{!
    }}{{#categoryid}} data-categoryid="{{categoryid}}"{{/categoryid}}{{!
    }} data-view="day"{{!
    }} data-year="{{date.year}}"{{!
    }} data-month="{{date.mon}}"{{!
    }} data-day="{{date.mday}}"{{!
    }} data-region="day"{{!
    }} data-new-event-timestamp="{{neweventtimestamp}}"{{!
}}>
    {{> core_calendar/day_navigation }}
    {{> core/overlay_loading}}
    <!--{{< core_calendar/event_list }}
        {{$noeventsmessage}}
            {{#str}} daywithnoevents, core_calendar {{/str}}
        {{/noeventsmessage}}
    {{/core_calendar/event_list}}-->
    <div class="calendar-day-holder">
        <!--div class="calendar-day-weekday">
            Понедельник - 13
        </div-->
        <table class="calendar-day">
            <thead>
            <tr>
                <th></th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td class="calendar-day-legend">
                    <div class="calendar-day-td">
                        <div class="time-hour">
                            9:00
                        </div>
                    </div>
                </td>
                <td>
                    <div class="calendar-day-td">
                        <div class="calendar-day-event">
                            {{#events}}
                                {{#9h}}
                                    <span class="day-event-span" style="{{highliht}}">{{groupname}} - {{name}}</span>
                                {{/9h}}
                            {{/events}}
                        </div>
                        <div class="c-d-add-event">
                            +
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td class="calendar-day-legend">
                    <div class="calendar-day-td">
                        <div class="time-hour">
                            10:00
                        </div>
                    </div>
                </td>
                <td>
                    <div class="calendar-day-td">
                        <div class="calendar-day-event">
                            {{#events}}
                                {{#10h}}
                                    <span class="day-event-span" style="{{highliht}}">{{groupname}} - {{name}}</span>
                                {{/10h}}
                            {{/events}}
                        </div>
                        <div class="c-d-add-event">
                            +
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td class="calendar-day-legend">
                    <div class="calendar-day-td">
                        <div class="time-hour">
                            11:00
                        </div>
                    </div>
                </td>
                <td>
                    <div class="calendar-day-td">
                        <div class="calendar-day-event">
                            {{#events}}
                                {{#11h}}
                                    <span class="day-event-span" style="{{highliht}}">{{groupname}} - {{name}}</span>
                                {{/11h}}
                            {{/events}}
                        </div>
                        <div class="c-d-add-event">
                            +
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td class="calendar-day-legend">
                    <div class="calendar-day-td">
                        <div class="time-hour">
                            12:00
                        </div>
                    </div>
                </td>
                <td>
                    <div class="calendar-day-td">
                        <div class="calendar-day-event">
                            {{#events}}
                                {{#12h}}
                                    <span class="day-event-span" style="{{highliht}}">{{groupname}} - {{name}}</span>
                                {{/12h}}
                            {{/events}}
                        </div>
                        <div class="c-d-add-event">
                            +
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td class="calendar-day-legend">
                    <div class="calendar-day-td">
                        <div class="time-hour">
                            13:00
                        </div>
                    </div>
                </td>
                <td>
                    <div class="calendar-day-td">
                        <div class="calendar-day-event">
                            {{#events}}
                                {{#13h}}
                                    <span class="day-event-span" style="{{highliht}}">{{groupname}} - {{name}}</span>
                                {{/13h}}
                            {{/events}}
                        </div>
                        <div class="c-d-add-event">
                            +
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td class="calendar-day-legend">
                    <div class="calendar-day-td">
                        <div class="time-hour">
                            14:00
                        </div>
                    </div>
                </td>
                <td>
                    <div class="calendar-day-td">
                        <div class="calendar-day-event">
                            {{#events}}
                                {{#14h}}
                                    <span class="day-event-span" style="{{highliht}}">{{groupname}} - {{name}}</span>
                                {{/14h}}
                            {{/events}}
                        </div>
                        <div class="c-d-add-event">
                            +
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td class="calendar-day-legend">
                    <div class="calendar-day-td">
                        <div class="time-hour">
                            15:00
                        </div>
                    </div>
                </td>
                <td>
                    <div class="calendar-day-td">
                        <div class="calendar-day-event">
                            {{#events}}
                                {{#15h}}
                                    <span class="day-event-span" style="{{highliht}}">{{groupname}} - {{name}}</span>
                                {{/15h}}
                            {{/events}}
                        </div>
                        <div class="c-d-add-event">
                            +
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td class="calendar-day-legend">
                    <div class="calendar-day-td">
                        <div class="time-hour">
                            16:00
                        </div>
                    </div>
                </td>
                <td>
                    <div class="calendar-day-td">
                        <div class="calendar-day-event">
                            {{#events}}
                                {{#16h}}
                                    <span class="day-event-span" style="{{highliht}}">{{groupname}} - {{name}}</span>
                                {{/16h}}
                            {{/events}}
                        </div>
                        <div class="c-d-add-event">
                            +
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td class="calendar-day-legend">
                    <div class="calendar-day-td">
                        <div class="time-hour">
                            17:00
                        </div>
                    </div>
                </td>
                <td>
                    <div class="calendar-day-td">
                        <div class="calendar-day-event">
                            {{#events}}
                                {{#17h}}
                                    <span class="day-event-span" style="{{highliht}}">{{groupname}} - {{name}}</span>
                                {{/17h}}
                            {{/events}}
                        </div>
                        <div class="c-d-add-event">
                            +
                        </div>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>

        <div class="table-legend">
        {{#legendGroups}}
            <div class="legend-group">
                <div class="legend-group-color" style="background-color: {{color}};"></div>
                <div class="legend-group-name">{{nameOfGroup}}</div>
            </div>
        {{/legendGroups}}
        </div>
    </div>
    <!--style-->
    <style>
        .day-event-span{
            padding: 5px;
            margin: 1px;
            border-radius: 5px;
        }
        .calendar-day-weekday {
            font-style: normal;
            font-weight: normal;
            font-size: 14px;
            line-height: 16px;
            margin-bottom: 6px;
        }

        .calendar-day-holder {
            padding: 2px;
            color: #666;
            font-family: 'Poppins', sans-serif;
            width: 100%;
            //height: 300px;
        }

        .calendar-day-holder table {
            border-collapse: initial !important;
            width: 100%;
            //height: 100%;
            border-spacing: 0;
        }

        .calendar-day tr .calendar-day-legend:hover{
            outline: none
        }

        .calendar-day tr:first-child .calendar-day-legend {
            border-radius: 12px 0 0 0;
            -webkit-border-radius: 12px 0 0 0;
            border-bottom-width: 1px !important;
            border-top-width: 2px !important;
        }

        .calendar-day tr .calendar-day-legend{
            border-bottom-width: 1px !important;
            border-top-width: 1px !important;
        }

        .calendar-day tr:last-child .calendar-day-legend {
            border-top-width: 1px !important;
            border-bottom-width: 2px !important;
        }

        .calendar-day-legend {
            background: rgba(242, 242, 242, 0.4) !important;
            border: 2px solid #C0C7BA !important;
        }

        .calendar-day td:first-child {
            width: 12.5%;
            height: 55px
        }

        .calendar-day-td{
            display: flex;
            flex-shrink: 0;
            align-items:center;
        }

        .calendar-day td {
            width: 87.5%;
            height: 55px;
        }

        .calendar-day td {
            background: #fff;
            border: 1px solid #E0E0E0;
        }

        .calendar-day td:hover{
            outline: 2px solid #4E9A5F;
        }

        .calendar-day td:hover .c-d-add-event{
            display: -webkit-flex;
            display: -ms-flex;
            display: flex;
        }

        .calendar-day-td {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .time-hour {
            font-size: 12px;
            position: absolute;
            bottom: 5px;
            right: 5px;
        }

        .c-d-add-event{
            font-weight: 500;
            border-radius: 50%;
            -webkit-border-radius: 50%;
            display: none;
            position: absolute;
            bottom: 15%;
            right: 5px;
            width: 26px;
            height: 26px;
            -ms-align-items: center;
            align-items: center;
            justify-content: center;
            background: #599A4E;
            color: white;
        }

        .c-d-add-event:hover{
            background: white;
            color: #599A4E;
            border: 1px solid #599A4E;
            cursor: pointer;
            font-weight: bold;
        }
    </style>
</div>
